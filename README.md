# Проект - Консольное приложение для поиска и управления вакансиями
    
приложение, которое получает информацию о вакансиях с платформы hh.ru в России

Приложение предоставляет интерактивный консольный интерфейс для:

    поиска вакансий на hh.ru;

    просмотра, фильтрации и удаления сохранённых вакансий;

    работы с локальным хранилищем (JSON‑файл).

Ключевые возможности:

    поиск по запросу, региону, работодателю, диапазону зарплат;

    сохранение найденных вакансий в локальный файл;

    просмотр топа вакансий по зарплате;

    удаление отдельных или всех вакансий.


## Cтатус разработки: 

в разработке


## Зависимости
• Python 3.x

• Все библиотеки, которые использованы в проекте указаны в **requirements.txt**


## Установка:

1 Клонируйте репозиторий:
``` git clone git@github.com:lidiar8r-ops/coursework_2.git  ```

2 Перейдите в папку проекта:
``` cd ваш_репозиторий```

3 Установите зависимости:
``` pip install -r requirements.txt```

4 Настройте конфигурационные файлы:

**src/config.py** — укажите путь к файлу хранения вакансий (filename_vacan) и URL API.

Убедитесь, что директории для логов  **logs** и данных **data** доступны для записи.

5 Настройте src/config.py:

``` python
URL_HH = "https://api.hh.ru"
filename_vacan = "vacancies.json"
filename_areas = "areas.json"
```

6 Запуск

Выполните скрипт:
```python main.py```

####

### Консоль программы

Приложение запустит интерактивное меню в консоли:

```
Добро пожаловать в систему поиска вакансий!
==================================================

Выберите действие:
1. Поиск вакансий на hh.ru
2. Показать топ N вакансий по зарплате
3. Поиск по ключевому слову
4. Показать все сохранённые вакансии
5. Удалить вакансию по URL
6. Поиск по диапазону зарплат
7. Поиск по работодателю
8. Удаление всех вакансий
9. Выход

Введите номер действия (1–9): 
```

<details>
  <summary> Описание пунктов меню (Нажмите, чтобы раскрыть)</summary>
1 Поиск вакансий на hh.ru
        
    Введите поисковый запрос (например, «Python разработчик»).

    Укажите слова‑исключения (через запятую, например, «1С, стажёр»).

    Выберите количество вакансий (по умолчанию 20).

    Укажите населённый пункт (для определения региона).

    Найденные вакансии сохраняются локально.

2 Топ N вакансий по зарплате

    Введите число N — количество вакансий для показа.

    Выводятся вакансии с самой высокой зарплатой.

3 Поиск по ключевому слову

    Ищет в названиях и описаниях сохранённых вакансий.

    Показывает все совпадения.

4 Все сохранённые вакансии

    Выводит полный список сохранённых вакансий.

5 Удалить вакансию по URL

    Введите URL вакансии для удаления.

    Если найдена — удаляется из хранилища.

6 Поиск по диапазону зарплат

    Задайте минимальную и максимальную зарплату.

    Показывает вакансии в указанном диапазоне.

7 Поиск по работодателю

    Введите название компании.

    Находит все вакансии от указанного работодателя.

8 Удаление всех вакансий

    Подтвердите действие.

    Очищает локальное хранилище.

9 Выход

    Завершает работу программы.
</details>
  

#### Пример работы
``` Запуск программы:

    python main.py

    Выбор пункта 1 → ввод запроса «Python», региона «Москва», 10 вакансий.

    Программа ищет на hh.ru, сохраняет 8 новых вакансий.

    Выбор пункта 2 → ввод 5 → показ топ‑5 вакансий по зарплате.

    Выбор пункта 9 → выход.
```



#### Пример структуры JSON‑файла
```json
[
  {
    "title": "Python Developer",
    "url": "https://example.com/123",
    "salary": "100 000 руб.",
    "description": "Опыт от 3 лет",
    "employer": "ООО Пример",
    "published_at": "2025-01-01"
  }
]
```


### Архитектура системы

Система состоит из 4 ключевых модулей:

    api_hh — работа с API hh.ru;

    work_files — локальное хранилище вакансий;

    area — управление регионами/городами;

    main — консольный интерфейс пользователя.



### 1. Модуль api_hh (API‑интеграция)

Назначение: получение данных с hh.ru.

<details>
  <summary> Основные классы (Нажмите, чтобы раскрыть)</summary>

    BaseAPI (абстрактный):

        контракт для API‑интеграций;

        обработка HTTP‑запросов и ошибок.

    HeadHunterAPI (реализация):

        поиск вакансий по запросу, региону, исключениям;

        пагинация (1 страница);

        фильтрация по зарплате/работодателю.

</details>

<details>
  <summary>Ключевые методы (Нажмите, чтобы раскрыть)</summary>

    get_requests(query, **kwargs) — поиск вакансий;

    _request(endpoint, params) — низкоуровневый HTTP‑запрос;

    _parse_items(data) — обработка ответа API.
</details>

<details>
  <summary>Параметры поиска (Нажмите, чтобы раскрыть)</summary>

    query — поисковый запрос;

    excluded_text — слова‑исключения;

    area — ID региона;

    per_page — количество на странице.
</details>


### 2. Модуль work_files (хранилище)

Назначение: локальное хранение и управление вакансиями.
<details>
  <summary>Основные классы (Нажмите, чтобы раскрыть)</summary>


    VacancyStorage (ABC):

        абстрактный интерфейс хранилища;

        методы: add, get, delete, filter, top_by_salary.

    JSONSaver (реализация):

        сохранение в JSON‑файл;

        защита от дубликатов (по URL);

        фильтрация по ключевым словам, диапазону зарплат, работодателю.
</details>

<details>
  <summary>Ключевые методы (Нажмите, чтобы раскрыть)</summary>

    _add_vacancy(vacancy) — добавление с проверкой дубликатов;

    get_vacancies() — получение всех вакансий;

    delete_vacancy(vacancy) — удаление по URL;

    filter_by_keyword(keyword) — поиск по тексту;

    get_top_by_salary(n) — топ‑N по зарплате;

    _save_data(), _load_data() — работа с файлом.
</details>


### 3. Модуль area (регионы)

Назначение: работа с географическими данными hh.ru.

<details>
  <summary>Основной класс (Нажмите, чтобы раскрыть)</summary>

    AreaAPI:

        получение ID региона по названию;

        кэширование данных в JSON;

        рекурсивный поиск в иерархии регионов.
</details>

<details>
  <summary>Ключевые методы(Нажмите, чтобы раскрыть)</summary>

    get_id_area() — поиск ID региона;

    get_requests(query) — загрузка данных API;

    find_area_id(data, name) — рекурсивный поиск;

    _save_data(data) — сохранение кэша.
</details>


### 4. Модуль main (интерфейс)

Назначение: интерактивное взаимодействие с пользователем.

<details>
  <summary> Функционал (Нажмите, чтобы раскрыть)</summary>

    поиск вакансий на hh.ru;

    просмотр топа вакансий по зарплате;

    фильтрация по ключевым словам, зарплате, работодателю;

    управление сохранёнными вакансиями (просмотр, удаление);

    логирование действий.
</details>




### Конфигурация

    Файлы хранения (data):

        vacancies.json — вакансии;

        areas.json — регионы.

    Логи (logs):

        main.log — основные действия;

        area.log, api_hh.log — запросы к API;

        work_files.log — операции с хранилищем.

    Кодировка: UTF‑8 (поддержка кириллицы).

### Логирование

Все модули используют единый механизм логирования через app_logger. Логируются:

    начало/конец работы;

    выполнение действий (поиск, сохранение, удаление);

    ошибки ввода и API‑запросов;

    результаты операций.

Обработка ошибок

    Некорректный ввод — сообщение пользователю, повторный запрос.

    Отсутствие результатов — уведомление.

    Ошибки API — логгирование, показ сообщения.

    Проблемы с файлами — логгирование, продолжение работы.




## Тестирование
Код покрыт тестами Coverage report: 89%


HTML-отчёт, который показывает, какие строки кода были покрыты тестами, а какие нет в 
[(htmlcov/index.html)](https://github.com/lidiar8r-ops/coursework_2/blob/Feature/coursework_2/htmlcov/index.html)

Для запуска тестов воспользуйтесь командой  ```poetry```


## Цель разработки: 

Курсовая работа на Python  

## Автор
[@lidiar8r-ops](https://github.com/lidiar8r-ops)


Версия: 1.0
Дата: 2025-12-15
